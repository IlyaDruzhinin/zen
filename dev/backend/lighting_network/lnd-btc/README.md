# Описание

## Краткое описание

Проведение оффчейн транзакций. Реализация протокола Lightning Network

## Рили. Вай нот?

`__Почему именно эта реализация хорошая?__`

Мне сложно ответить, наверое из-за того, что этой реальный open source. А не проект финансируемый фондами.

## Как это работает

В сети есть 2 роли: пользователь и хаб. 

`Пользователи` открывают и закрывают каналы (депонируя BTC при открытии и возвращая BTC при закрытии), а также взаимодействуют в рамках канала пока он открыт.

`Хабы` - агригируют запросы на открытие канало и связывают разные каналы между собой. Хабом может стать любой пользователь имеющий BTC.

### Общие функции пользователей и хабов

- `send_transaction` - сериализация и отправка транзакции в: сеть биткоина, куда-то ещё
- `receive_transaction` - получение и десериализация транзакции от другого пользователя
- `create_opening_tx` - транзакция создающая платежный канал. Указывается `Pub_Key` другого пользователя(хаб), свой Pub_Key и секрет. 
- `create_commitment_tx` - транзакция-обязательство.

### Пользователь

#### Поля

#### Методы

- `client_handler` - обработчик пользователя. С этой функцией работает пользователь. Все основные манипуляции происходят здесь.

### Хабы

#### Поля

#### Методы

- `is_it_tx_in_blockchain` - проверяет есть ли транзация в блокчейне.
- `check_all_prev_tx` - проверяет все предыдущие транзакции
- `validate_tx` - валидирует транзакцию
- `broadcast_tx` - броадкастит транзакцию
- `create_after_timelock_transaction` - 
- `server_handler` - обработчик хаба. Все основные манипуляции происходят здесь


### Условия

Форматы, типы, криптография - должно быть как в биткоине

## Что используется в проекте

- Язык программирования Rust
    - tokio, 
    - rust-bitcoin, ...
- Exonum как локальная ДБ, без синхронизации с блокчейном
- Exonum Light Client - для взаимодействия фронтенда и Exonum.
- JavaScript/React/Electron - для GUI

## Глоссарий

- `канал` - 
- `транзакция-обязательство` - 
- `открывающая-канал-транзакция` - 
- `закрывающая-канад-транзакция`- 